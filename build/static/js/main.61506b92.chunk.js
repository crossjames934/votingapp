(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{19:function(e,t,a){e.exports=a(46)},44:function(e,t,a){},45:function(e,t,a){e.exports=a.p+"static/media/voting.71a5f5fb.jpg"},46:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),i=a(17),o=a.n(i),r=a(18),l=a(2),c=a(3),u=a(6),m=a(4),d=a(5),h=a(1),p=a(8),g=a.n(p),b=(a(44),a(45),function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).logout=function(){g.a.get("/logout").then(function(e){console.log(e.data),a.props.updateAuthenticationStatus(!1,"")}).catch(function(e){alert("There was an error connecting, please check console for the error"),console.log(e)})},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"notAuthenticated",value:function(){return s.a.createElement("div",{className:"authenticationLinks"},s.a.createElement("p",{className:"clickableText",onClick:this.props.showRegister},"Register"),s.a.createElement("p",null," || "),s.a.createElement("p",{className:"clickableText",onClick:this.props.showLogin},"Log In"))}},{key:"authenticated",value:function(){return s.a.createElement("div",null,s.a.createElement("p",null,"Welcome ",this.props.username),s.a.createElement("p",{className:"clickableText",onClick:this.logout},"Sign Out"))}},{key:"render",value:function(){return s.a.createElement("div",null,this.props.authenticated?this.authenticated():this.notAuthenticated())}}]),t}(n.Component)),f=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"options",value:function(){var e=this.props.widgets.map(function(e){return s.a.createElement("li",null,e)});return s.a.createElement("ul",null,e)}},{key:"render",value:function(){var e={order:this.props.order,display:this.props.showing?"block":"none",width:"30vw",animation:"appear 1s ease-out ".concat(100*this.props.order,"ms forwards")};return s.a.createElement("div",{className:"widget",style:e},s.a.createElement("div",{className:"closeWidgetBtn"},s.a.createElement("p",{onClick:this.props.close,className:"innerX"},"X")),s.a.createElement("h2",null,"Main Menu"),this.options())}}]),t}(n.Component),v=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e={order:this.props.order,display:this.props.showing?"block":"none",width:"30vw",animation:"appear 1s ease-out ".concat(100*this.props.order,"ms forwards")};return s.a.createElement("div",{className:"widget",style:e},s.a.createElement("div",{className:"closeWidgetBtn"},s.a.createElement("p",{onClick:this.props.close,className:"innerX"},"X")),s.a.createElement("h2",null,"Welcome to Cross Voting"),s.a.createElement("p",null,"Here you can make your own polls, and have your friends vote on them."),s.a.createElement("p",null,"You can do all this without making an account, but if you want to make lots of polls you will need to register."),s.a.createElement("p",null,"Registering is super easy, you can do it with a couple clicks if you use your Facebook or Google account."),s.a.createElement("p",null,"You can also register using traditional means too."))}}]),t}(n.Component),w=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e={order:this.props.order,display:this.props.showing?"block":"none",animation:"appear 1s ease-out ".concat(200*this.props.order,"ms forwards")};return s.a.createElement("div",{className:"widget",style:e},s.a.createElement("div",{className:"closeWidgetBtn"},s.a.createElement("p",{onClick:this.props.close,className:"innerX"},"X")),s.a.createElement("h2",null,"Poll Menu"))}}]),t}(n.Component),E=a(9),y=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={username:"",password:"",email:""},a.handleChange=a.handleChange.bind(Object(h.a)(Object(h.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"handleChange",value:function(e){this.setState(Object(E.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(e){var t=this.state,a=t.username,n=t.password,s=t.email;g.a.post("/register",{username:a,password:n,email:s}).then(function(e){if(200!==e.status)return alert("There was a problem connecting to the server, see console for more information"),console.log(e);console.log(e.data)}).catch(function(e){return alert("There was a problem connecting to the server, see console for more information"),console.log(e)}),e.preventDefault()}},{key:"render",value:function(){var e={order:this.props.order,display:this.props.showing?"block":"none",width:"30vw",animation:"appear 1s ease-out ".concat(100*this.props.order,"ms forwards")},t={display:"flex",justifyContent:"space-between",margin:"10px 0"};return s.a.createElement("div",{className:"widget",style:e},s.a.createElement("div",{className:"closeWidgetBtn"},s.a.createElement("p",{onClick:this.props.close,className:"innerX"},"X")),s.a.createElement("h2",null,"Register"),s.a.createElement("form",{onSubmit:this.handleSubmit},s.a.createElement("div",{style:t},s.a.createElement("p",null,"Username:"),s.a.createElement("input",{onChange:this.handleChange,name:"username",type:"text",id:"registeringUsername",value:this.state.username,required:!0})),s.a.createElement("div",{style:t},s.a.createElement("p",null,"Password:"),s.a.createElement("input",{onChange:this.handleChange,name:"password",type:"password",id:"registeringPassword",value:this.state.password,required:!0})),s.a.createElement("div",{style:t},s.a.createElement("p",null,"Email:"),s.a.createElement("input",{onChange:this.handleChange,name:"email",type:"email",id:"registeringEmail",value:this.state.email,required:!0})),s.a.createElement("input",{className:"submitBtn",type:"submit",value:"Submit"})))}}]),t}(n.Component),j=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={username:"",password:"",success:!1,failedMessage:""},a.handleChange=a.handleChange.bind(Object(h.a)(Object(h.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"handleChange",value:function(e){this.setState(Object(E.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(e){var t=this,a=this.state,n=a.username,s=a.password;g.a.post("/login",{username:n,password:s}).then(function(e){if(200!==e.status)return alert("There was a problem after connecting to the server, see console for more information"),console.log(e);e.data.loggedIn?(t.props.updateAuthenticationStatus(!0,e.data.message),t.setState({success:!0,failedMessage:""}),setTimeout(t.props.close,2e3)):t.setState({failedMessage:e.data.message})}).catch(function(e){return alert("There was a problem connecting to the server, see console for more information"),console.log(e)}),e.preventDefault()}},{key:"successfulLogin",value:function(){return s.a.createElement("div",null,s.a.createElement("p",null,"You have logged in successfully!"))}},{key:"loginForm",value:function(){var e={display:"flex",justifyContent:"space-between",margin:"10px 0"};return s.a.createElement("div",null,s.a.createElement("form",{onSubmit:this.handleSubmit},s.a.createElement("div",{style:e},s.a.createElement("p",null,"Username:"),s.a.createElement("input",{onChange:this.handleChange,name:"username",type:"text",id:"loginUsername",value:this.state.username,required:!0})),s.a.createElement("div",{style:e},s.a.createElement("p",null,"Password:"),s.a.createElement("input",{onChange:this.handleChange,name:"password",type:"password",id:"loginPassword",value:this.state.password,required:!0})),s.a.createElement("input",{className:"submitBtn",type:"submit",value:"Submit"})))}},{key:"render",value:function(){var e={order:this.props.order,display:this.props.showing?"block":"none",width:"30vw",animation:"appear 1s ease-out ".concat(100*this.props.order,"ms forwards")};return s.a.createElement("div",{className:"widget",style:e},s.a.createElement("div",{className:"closeWidgetBtn"},s.a.createElement("p",{onClick:this.props.close,className:"innerX"},"X")),s.a.createElement("h2",null,"Login"),this.state.success?this.successfulLogin():this.loginForm(),s.a.createElement("p",{className:"red"},this.state.failedMessage))}}]),t}(n.Component),O="intro",k="pollMenu",C=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={authenticated:!1,username:"",visibleWidgets:[O,k]},a.closeWidget=a.closeWidget.bind(Object(h.a)(Object(h.a)(a))),a.showWidget=a.showWidget.bind(Object(h.a)(Object(h.a)(a))),a.updateAuthenticationStatus=a.updateAuthenticationStatus.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;g.a.get("/whoami").then(function(t){t.data&&e.setState({authenticated:!0,username:t.data})}).catch(function(e){console.log(e)})}},{key:"updateAuthenticationStatus",value:function(e,t){this.setState({authenticated:e,username:t})}},{key:"closeWidget",value:function(e){this.setState({visibleWidgets:this.state.visibleWidgets.filter(function(t){return t!==e})})}},{key:"showWidget",value:function(e){this.setState({visibleWidgets:[e].concat(Object(r.a)(this.state.visibleWidgets))})}},{key:"render",value:function(){var e=this,t=function(t){return e.state.visibleWidgets.indexOf(t)},a=function(t){return e.state.visibleWidgets.includes(t)};return s.a.createElement("div",{className:"App"},s.a.createElement("header",{className:"App-header"},s.a.createElement("p",{className:"hamburgerIcon",onClick:function(){e.showWidget("mainMenu")}},"\u2630"),s.a.createElement("h1",{id:"mainTitle"},"Voting App"),s.a.createElement(b,{authenticated:this.state.authenticated,username:this.state.username,showRegister:function(){return e.showWidget("register")},showLogin:function(){return e.showWidget("login")},updateAuthenticationStatus:this.updateAuthenticationStatus})),s.a.createElement("main",null,s.a.createElement(f,{widgets:[O,k,"register","login"],order:t("mainMenu"),showing:a("mainMenu"),close:function(){e.closeWidget("mainMenu")}}),s.a.createElement(v,{order:t(O),showing:a(O),close:function(){e.closeWidget(O)}}),s.a.createElement(w,{order:t(k),showing:a(k),close:function(){e.closeWidget(k)}}),s.a.createElement(y,{order:t("register"),showing:a("register"),close:function(){e.closeWidget("register")}}),s.a.createElement(j,{order:t("login"),showing:a("login"),close:function(){e.closeWidget("login")},updateAuthenticationStatus:this.updateAuthenticationStatus})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(s.a.createElement(C,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[19,1,2]]]);
//# sourceMappingURL=main.61506b92.chunk.js.map